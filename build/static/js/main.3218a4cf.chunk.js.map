{"version":3,"sources":["App.js","components/InputCustomizado.js","components/TratadorErros.js","components/Autores.js","components/Home.js","components/Livros.js","reportWebVitals.js","index.js"],"names":["App","state","lista","nome","email","senha","page","AtualizaPagina","bind","pagina","this","setState","id","className","href","to","Component","InputCustomizado","msgErro","htmlFor","props","label","type","name","value","onChange","PubSub","subscribe","topico","erro","field","defaultMessage","TratadorErros","erros","console","log","i","errors","length","publish","FormularioAutor","enviaForm","evento","preventDefault","$","ajax","url","contentType","dataType","data","JSON","stringify","success","novaListagem","error","resposta","status","publicaErros","responseJSON","beforeSend","nomeInput","campoSendoAlterado","target","onSubmit","method","salvaAlteracao","TabelaAutores","map","autor","AutorBox","novaLista","Home","FormularioLivro","titulo","preco","autorId","setTitulo","setPreco","setAutorId","handleLivroSubmit","e","trim","autores","placeholder","TabelaLivros","livros","livro","LivroAdmin","topicName","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","exact","path","component","Livros","document","getElementById"],"mappings":"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","file":"static/js/main.3218a4cf.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './css/pure-min.css';\nimport './css/pure-sidebar.css';\nimport './css/pure-sidebar.css';\nimport {Link} from 'react-router-dom';\n\n\nclass App extends Component {\n  constructor(){\n    super();\n    this.state = {lista : [],nome:'',email:'',senha:'', page:''};\n    this.AtualizaPagina = this.AtualizaPagina.bind(this);\n  }\n\n  AtualizaPagina(pagina){\n    this.setState({page:pagina})\n  }\n\n\n  render() {\n    return (\n      <>\n      <div id=\"menu\">\n        <div className=\"pure-menu\">\n          <a className=\"pure-menu-heading\" href=\"#company\">Company</a>\n\n          <ul className=\"pure-menu-list\">\n            <li className=\"pure-menu-item\"><Link to=\"/\" className=\"pure-menu-link\">Home</Link></li>\n            <li className=\"pure-menu-item\"><Link to=\"/autor\" className=\"pure-menu-link\">Autor</Link></li>\n            <li className=\"pure-menu-item\"><Link to=\"/livros\" className=\"pure-menu-link\">Livro</Link></li>\n          </ul>\n        </div>\n      </div>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React, { Component } from \"react\";\nimport PubSub from 'pubsub-js';\n\nclass InputCustomizado extends Component {\n    constructor(){\n        super();\n        this.state = {msgErro:''};\n    }\n    render(){\n        return(\n            <div className=\"pure-control-group\">\n                <label htmlFor={this.props.id}>{this.props.label}</label>\n                <input id={this.props.id} type={this.props.type} name={this.props.nome} value={this.props.value} onChange={this.props.onChange} className={this.props.className}/>\n                <span className=\"erro\">{this.state.msgErro}</span>\n            </div>\n        );\n    }\n\n    componentDidMount(){\n        PubSub.subscribe(\"erro-validacao\", function(topico, erro){\n            if(erro.field === this.props.name){\n                this.setState({msgErro:erro.defaultMessage})\n            }\n        }.bind(this));\n        PubSub.subscribe(\"limpa-erros\", function(topico){\n                this.setState({msgErro:''})\n        }.bind(this));\n    }\n}\nexport default InputCustomizado;","import PubSub from 'pubsub-js';\n\nexport default class TratadorErros {\n    publicaErros(erros){\n        console.log(erros);\n        for(let i =0; i<erros.errors.length;i++){\n            let erro = erros.errors[i];\n            PubSub.publish(\"erro-validacao\", erro);\n        }\n    }\n}","import React, { Component } from \"react\";\nimport $ from 'jquery';\nimport InputCustomizado from './InputCustomizado';\nimport PubSub from 'pubsub-js';\nimport TratadorErros from \"./TratadorErros\";\n\n\nclass FormularioAutor extends Component {\n\n  constructor() {\n    super();    \n    this.state = {nome:'',email:'',senha:''};\n    this.enviaForm = this.enviaForm.bind(this);\n  }\n\n  enviaForm(evento){\n    evento.preventDefault();    \n    $.ajax({\n      url:'http://cdc-react.herokuapp.com/api/autores',\n      contentType:'application/json',\n      dataType:'json',\n      type:'post',\n      data: JSON.stringify({nome:this.state.nome,email:this.state.email,senha:this.state.senha}),\n      success: function(novaListagem){\n        PubSub.publish('atualiza-lista-autores',novaListagem);        \n        this.setState({nome:'',email:'',senha:''});\n      }.bind(this),\n      error: function(resposta){\n        if(resposta.status === 400) {\n          new TratadorErros().publicaErros(resposta.responseJSON);\n        }\n      },\n      beforeSend: function(){\n        PubSub.publish(\"limpa-erros\",{});\n      }      \n    });\n  }\n\n  salvaAlteracao(nomeInput,evento){\n    var campoSendoAlterado = {};\n    campoSendoAlterado[nomeInput] = evento.target.value;    \n    this.setState(campoSendoAlterado);   \n  }\n\n    render() {\n        return (\n            <div className=\"pure-form pure-form-aligned\">\n              <form className=\"pure-form pure-form-aligned\" onSubmit={this.enviaForm} method=\"post\">\n                <InputCustomizado id=\"nome\" type=\"text\" name=\"nome\" value={this.state.nome} onChange={this.salvaAlteracao.bind(this,'nome')} label=\"Nome\"/>                                              \n                <InputCustomizado id=\"email\" type=\"email\" name=\"email\" value={this.state.email} onChange={this.salvaAlteracao.bind(this,'email')} label=\"Email\"/>                                              \n                <InputCustomizado id=\"senha\" type=\"password\" name=\"senha\" value={this.state.senha} onChange={this.salvaAlteracao.bind(this,'senha')} label=\"Senha\"/>                                                                      \n                <div className=\"pure-control-group\">                                  \n                  <label></label> \n                  <button type=\"submit\" className=\"pure-button pure-button-primary\">Gravar</button>                                    \n                </div>\n              </form>             \n\n            </div>  \n\n        );\n    }\n}\n\nclass TabelaAutores extends Component {\n\n      render() {\n          return(\n            <div>\n            <table className=\"pure-table\">\n              <thead>\n                <tr>\n                  <th>Nome</th>\n                  <th>email</th>\n                </tr>\n              </thead>\n                <tbody>\n                        {\n                        this.props.lista.map(function(autor){\n                            return (\n                            <tr key={autor.id}>\n                                <td>{autor.nome}</td>\n                                <td>{autor.email}</td>\n                            </tr>\n                            );\n                        })\n                        }\n                </tbody>\n            </table> \n          </div>  \n          );\n      }\n}\n\nexport default class AutorBox extends Component {\n    constructor(){\n        super();\n        this.state = {lista : []};  \n    }\n\n    componentDidMount(){\n        $.ajax({\n          url:\"http://cdc-react.herokuapp.com/api/autores\",\n          dataType: 'json',\n          success:function(resposta){\n            console.log(this);\n            this.setState({lista:resposta});\n          }.bind(this)\n        });\n\n        PubSub.subscribe('atualiza-lista-autores', function(topico, novaLista){\n          this.setState({lista:novaLista});\n        }.bind(this));\n    }\n\n    render(){\n        return(\n            <>\n            <div className=\"header\">\n                <h1>Cadastro de Autores</h1>\n          </div>\n          <div className=\"content\" id=\"content\">\n            <FormularioAutor/>\n            \n            <TabelaAutores lista={this.state.lista}/>\n            </div>\n            </>\n        );\n    }\n}","import React, { Component } from \"react\";\n//import PubSub from 'pubsub-js';\n\n\n\nexport default class Home extends Component{\n\n    render(){\n        return(\n            <>\n                <div className=\"header\">\n                    <h1>Sistema de cadastro de autores e livros</h1>\n                </div>\n                <div className=\"content\" id=\"content\">\n                    <center><h1>Bem-vindo</h1></center>\n                </div>\n            </>\n\n        );\n    }\n\n}\n","import $ from \"jquery\";\nimport InputCustomizado from \"./InputCustomizado\"\nimport React, { Component } from 'react';\nimport PubSub from 'pubsub-js';\nimport TratadorErros from './TratadorErros'\n\nclass FormularioLivro extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {titulo: '', preco: '', autorId: ''};\n    this.setTitulo = this.setTitulo.bind(this);\n    this.setPreco = this.setPreco.bind(this);\n    this.setAutorId = this.setAutorId.bind(this);   \n    this.handleLivroSubmit = this.handleLivroSubmit.bind(this);\n  }\n\n  setTitulo(e) {\n    this.setState({titulo: e.target.value});\n  }\n\n  setPreco(e) {\n    this.setState({preco: e.target.value});\n  }\n\n  setAutorId(e) {\n    this.setState({autorId: e.target.value});\n  }\n\n\n  handleLivroSubmit(e) {\n    e.preventDefault();\n    var titulo = this.state.titulo.trim();\n    var preco = this.state.preco.trim();\n    var autorId = this.state.autorId;\n\n    $.ajax({\n      url: 'https://cdc-react.herokuapp.com/api/livros',\n      contentType: 'application/json',\n      dataType: 'json',\n      type: 'POST',\n      data: JSON.stringify({titulo:titulo,preco:preco,autorId:autorId}),\n      success: function(novaListagem) {\n          PubSub.publish( 'atualiza-lista-livros',novaListagem);            \n          this.setState({titulo:'',preco:'',autorId:''});\n      },\n      error: function(resposta){\n        if(resposta.status === 400){\n          new TratadorErros().publicaErros(resposta.responseJSON);\n        }\n      },\n      beforeSend: function(){\n        PubSub.publish(\"limpa-erros\",{});\n      }            \n    });  \n\n    this.setState({titulo: '', preco: '', autorId: ''});\n  }\n\n  render() {\n    var autores = this.props.autores.map(function(autor){\n      return <option key={autor.id} value={autor.id}>{autor.nome}</option>;\n    });\n    return (\n      <div className=\"autorForm\">\n        <form className=\"pure-form pure-form-aligned\" onSubmit={this.handleLivroSubmit}>\n          <InputCustomizado id=\"titulo\" name=\"titulo\" label=\"Titulo: \" type=\"text\" value={this.state.titulo} placeholder=\"Titulo do livro\" onChange={this.setTitulo} />\n          <InputCustomizado id=\"preco\" name=\"preco\" label=\"Preco: \" type=\"decimal\" value={this.state.preco} placeholder=\"PreÃ§o do livro\" onChange={this.setPreco} />\n          <div className=\"pure-controls\">\n            <select value={this.state.autorId} name=\"autorId\" onChange={this.setAutorId}>\n              <option value=\"\">Selecione</option>\n              {autores}\n            </select>\n          </div>\n          <div className=\"pure-control-group\">                                  \n            <label></label> \n            <button type=\"submit\" className=\"pure-button pure-button-primary\">Gravar</button>                                    \n          </div>\n        </form>\n      </div>\n    );\n  }\n} \n\nclass TabelaLivros extends Component {\n\n  render() {\n    var livros = this.props.lista.map(function(livro){\n      return(\n          <tr key={livro.id}>\n            <td>{livro.titulo}</td>\n            <td>{livro.autor.nome}</td>\n            <td>{livro.preco}</td>\n          </tr>\n        );\n      });\n    return(\n      <table className=\"pure-table\">\n        <thead>\n          <tr>\n            <th>Titulo</th>\n            <th>Autor</th>\n            <th>Preco</th>\n          </tr>\n        </thead>\n        <tbody>\n          {livros}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nexport default class LivroAdmin extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {lista : [],autores:[]};\n  }\n\n  componentDidMount() {\n    $.ajax({\n      url: \"https://cdc-react.herokuapp.com/api/livros\",\n      dataType: 'json',\n      success: function(data) {\n        this.setState({lista: data});\n      }.bind(this)\n    });\n\n    $.ajax({\n      url: \"https://cdc-react.herokuapp.com/api/autores\",\n      dataType: 'json',\n      success: function(data) {\n        console.log(data);\n        this.setState({autores: data});\n      }.bind(this)\n    });\n\n    PubSub.subscribe('atualiza-lista-livros', function(topicName,lista){\n      this.setState({lista:lista});\n    }.bind(this));\n  }\n\n  render() {\n    return(\n      <div>\n        <div className=\"header\">\n          <h1>Cadastro de Livros</h1>\n        </div>\n        <div className=\"content\" id=\"content\">\n          <FormularioLivro autores={this.state.autores}/>\n          <TabelaLivros lista={this.state.lista}/>\n        </div>\n      </div>\n    );\n  }\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport AutorBox from './components/Autores';\nimport Home from './components/Home';\nimport Livros from './components/Livros';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\n\nReactDOM.render(\n  <BrowserRouter>\n  <App/>\n  <div id=\"main\">\n        <Switch>\n            <Route exact path=\"/\" component={Home}/>\n\n            <Route path=\"/autor\" component={AutorBox}></Route>\n\n            <Route path=\"/livros\" component={Livros}></Route>\n        </Switch>\n    </div>\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}