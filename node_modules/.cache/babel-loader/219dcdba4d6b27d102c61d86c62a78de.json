{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nexports.runEnterHooks = runEnterHooks;\nexports.runChangeHooks = runChangeHooks;\nexports.runLeaveHooks = runLeaveHooks;\n\nvar _AsyncUtils = require('./AsyncUtils');\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar PendingHooks = function PendingHooks() {\n  var _this = this;\n\n  _classCallCheck(this, PendingHooks);\n\n  this.hooks = [];\n\n  this.add = function (hook) {\n    return _this.hooks.push(hook);\n  };\n\n  this.remove = function (hook) {\n    return _this.hooks = _this.hooks.filter(function (h) {\n      return h !== hook;\n    });\n  };\n\n  this.has = function (hook) {\n    return _this.hooks.indexOf(hook) !== -1;\n  };\n\n  this.clear = function () {\n    return _this.hooks = [];\n  };\n};\n\nvar enterHooks = new PendingHooks();\nvar changeHooks = new PendingHooks();\n\nfunction createTransitionHook(hook, route, asyncArity, pendingHooks) {\n  var isSync = hook.length < asyncArity;\n\n  var transitionHook = function transitionHook() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    hook.apply(route, args);\n\n    if (isSync) {\n      var callback = args[args.length - 1]; // Assume hook executes synchronously and\n      // automatically call the callback.\n\n      callback();\n    }\n  };\n\n  pendingHooks.add(transitionHook);\n  return transitionHook;\n}\n\nfunction getEnterHooks(routes) {\n  return routes.reduce(function (hooks, route) {\n    if (route.onEnter) hooks.push(createTransitionHook(route.onEnter, route, 3, enterHooks));\n    return hooks;\n  }, []);\n}\n\nfunction getChangeHooks(routes) {\n  return routes.reduce(function (hooks, route) {\n    if (route.onChange) hooks.push(createTransitionHook(route.onChange, route, 4, changeHooks));\n    return hooks;\n  }, []);\n}\n\nfunction runTransitionHooks(length, iter, callback) {\n  if (!length) {\n    callback();\n    return;\n  }\n\n  var redirectInfo = void 0;\n\n  function replace(location) {\n    redirectInfo = location;\n  }\n\n  (0, _AsyncUtils.loopAsync)(length, function (index, next, done) {\n    iter(index, replace, function (error) {\n      if (error || redirectInfo) {\n        done(error, redirectInfo); // No need to continue.\n      } else {\n        next();\n      }\n    });\n  }, callback);\n}\n/**\n * Runs all onEnter hooks in the given array of routes in order\n * with onEnter(nextState, replace, callback) and calls\n * callback(error, redirectInfo) when finished. The first hook\n * to use replace short-circuits the loop.\n *\n * If a hook needs to run asynchronously, it may use the callback\n * function. However, doing so will cause the transition to pause,\n * which could lead to a non-responsive UI if the hook is slow.\n */\n\n\nfunction runEnterHooks(routes, nextState, callback) {\n  enterHooks.clear();\n  var hooks = getEnterHooks(routes);\n  return runTransitionHooks(hooks.length, function (index, replace, next) {\n    var wrappedNext = function wrappedNext() {\n      if (enterHooks.has(hooks[index])) {\n        next();\n        enterHooks.remove(hooks[index]);\n      }\n    };\n\n    hooks[index](nextState, replace, wrappedNext);\n  }, callback);\n}\n/**\n * Runs all onChange hooks in the given array of routes in order\n * with onChange(prevState, nextState, replace, callback) and calls\n * callback(error, redirectInfo) when finished. The first hook\n * to use replace short-circuits the loop.\n *\n * If a hook needs to run asynchronously, it may use the callback\n * function. However, doing so will cause the transition to pause,\n * which could lead to a non-responsive UI if the hook is slow.\n */\n\n\nfunction runChangeHooks(routes, state, nextState, callback) {\n  changeHooks.clear();\n  var hooks = getChangeHooks(routes);\n  return runTransitionHooks(hooks.length, function (index, replace, next) {\n    var wrappedNext = function wrappedNext() {\n      if (changeHooks.has(hooks[index])) {\n        next();\n        changeHooks.remove(hooks[index]);\n      }\n    };\n\n    hooks[index](state, nextState, replace, wrappedNext);\n  }, callback);\n}\n/**\n * Runs all onLeave hooks in the given array of routes in order.\n */\n\n\nfunction runLeaveHooks(routes, prevState) {\n  for (var i = 0, len = routes.length; i < len; ++i) {\n    if (routes[i].onLeave) routes[i].onLeave.call(routes[i], prevState);\n  }\n}","map":{"version":3,"sources":["/home/joaohgs/Documents/ProjetosReact/cdc-admin/node_modules/react-router/lib/TransitionUtils.js"],"names":["exports","__esModule","runEnterHooks","runChangeHooks","runLeaveHooks","_AsyncUtils","require","_classCallCheck","instance","Constructor","TypeError","PendingHooks","_this","hooks","add","hook","push","remove","filter","h","has","indexOf","clear","enterHooks","changeHooks","createTransitionHook","route","asyncArity","pendingHooks","isSync","length","transitionHook","_len","arguments","args","Array","_key","apply","callback","getEnterHooks","routes","reduce","onEnter","getChangeHooks","onChange","runTransitionHooks","iter","redirectInfo","replace","location","loopAsync","index","next","done","error","nextState","wrappedNext","state","prevState","i","len","onLeave","call"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\nexports.runEnterHooks = runEnterHooks;\nexports.runChangeHooks = runChangeHooks;\nexports.runLeaveHooks = runLeaveHooks;\n\nvar _AsyncUtils = require('./AsyncUtils');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PendingHooks = function PendingHooks() {\n  var _this = this;\n\n  _classCallCheck(this, PendingHooks);\n\n  this.hooks = [];\n\n  this.add = function (hook) {\n    return _this.hooks.push(hook);\n  };\n\n  this.remove = function (hook) {\n    return _this.hooks = _this.hooks.filter(function (h) {\n      return h !== hook;\n    });\n  };\n\n  this.has = function (hook) {\n    return _this.hooks.indexOf(hook) !== -1;\n  };\n\n  this.clear = function () {\n    return _this.hooks = [];\n  };\n};\n\nvar enterHooks = new PendingHooks();\nvar changeHooks = new PendingHooks();\n\nfunction createTransitionHook(hook, route, asyncArity, pendingHooks) {\n  var isSync = hook.length < asyncArity;\n\n  var transitionHook = function transitionHook() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    hook.apply(route, args);\n\n    if (isSync) {\n      var callback = args[args.length - 1];\n      // Assume hook executes synchronously and\n      // automatically call the callback.\n      callback();\n    }\n  };\n\n  pendingHooks.add(transitionHook);\n\n  return transitionHook;\n}\n\nfunction getEnterHooks(routes) {\n  return routes.reduce(function (hooks, route) {\n    if (route.onEnter) hooks.push(createTransitionHook(route.onEnter, route, 3, enterHooks));\n    return hooks;\n  }, []);\n}\n\nfunction getChangeHooks(routes) {\n  return routes.reduce(function (hooks, route) {\n    if (route.onChange) hooks.push(createTransitionHook(route.onChange, route, 4, changeHooks));\n    return hooks;\n  }, []);\n}\n\nfunction runTransitionHooks(length, iter, callback) {\n  if (!length) {\n    callback();\n    return;\n  }\n\n  var redirectInfo = void 0;\n  function replace(location) {\n    redirectInfo = location;\n  }\n\n  (0, _AsyncUtils.loopAsync)(length, function (index, next, done) {\n    iter(index, replace, function (error) {\n      if (error || redirectInfo) {\n        done(error, redirectInfo); // No need to continue.\n      } else {\n        next();\n      }\n    });\n  }, callback);\n}\n\n/**\n * Runs all onEnter hooks in the given array of routes in order\n * with onEnter(nextState, replace, callback) and calls\n * callback(error, redirectInfo) when finished. The first hook\n * to use replace short-circuits the loop.\n *\n * If a hook needs to run asynchronously, it may use the callback\n * function. However, doing so will cause the transition to pause,\n * which could lead to a non-responsive UI if the hook is slow.\n */\nfunction runEnterHooks(routes, nextState, callback) {\n  enterHooks.clear();\n  var hooks = getEnterHooks(routes);\n  return runTransitionHooks(hooks.length, function (index, replace, next) {\n    var wrappedNext = function wrappedNext() {\n      if (enterHooks.has(hooks[index])) {\n        next();\n        enterHooks.remove(hooks[index]);\n      }\n    };\n    hooks[index](nextState, replace, wrappedNext);\n  }, callback);\n}\n\n/**\n * Runs all onChange hooks in the given array of routes in order\n * with onChange(prevState, nextState, replace, callback) and calls\n * callback(error, redirectInfo) when finished. The first hook\n * to use replace short-circuits the loop.\n *\n * If a hook needs to run asynchronously, it may use the callback\n * function. However, doing so will cause the transition to pause,\n * which could lead to a non-responsive UI if the hook is slow.\n */\nfunction runChangeHooks(routes, state, nextState, callback) {\n  changeHooks.clear();\n  var hooks = getChangeHooks(routes);\n  return runTransitionHooks(hooks.length, function (index, replace, next) {\n    var wrappedNext = function wrappedNext() {\n      if (changeHooks.has(hooks[index])) {\n        next();\n        changeHooks.remove(hooks[index]);\n      }\n    };\n    hooks[index](state, nextState, replace, wrappedNext);\n  }, callback);\n}\n\n/**\n * Runs all onLeave hooks in the given array of routes in order.\n */\nfunction runLeaveHooks(routes, prevState) {\n  for (var i = 0, len = routes.length; i < len; ++i) {\n    if (routes[i].onLeave) routes[i].onLeave.call(routes[i], prevState);\n  }\n}"]},"metadata":{},"sourceType":"script"}