{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nexports.ContextProvider = ContextProvider;\nexports.ContextSubscriber = ContextSubscriber;\n\nvar _react = require('react'); // Works around issues with context updates failing to propagate.\n// Caveat: the context value is expected to never change its identity.\n// https://github.com/facebook/react/issues/2517\n// https://github.com/reactjs/react-router/issues/470\n\n\nvar contextProviderShape = _react.PropTypes.shape({\n  subscribe: _react.PropTypes.func.isRequired,\n  eventIndex: _react.PropTypes.number.isRequired\n});\n\nfunction makeContextName(name) {\n  return '@@contextSubscriber/' + name;\n}\n\nfunction ContextProvider(name) {\n  var _childContextTypes, _ref2;\n\n  var contextName = makeContextName(name);\n  var listenersKey = contextName + '/listeners';\n  var eventIndexKey = contextName + '/eventIndex';\n  var subscribeKey = contextName + '/subscribe';\n  return _ref2 = {\n    childContextTypes: (_childContextTypes = {}, _childContextTypes[contextName] = contextProviderShape.isRequired, _childContextTypes),\n    getChildContext: function getChildContext() {\n      var _ref;\n\n      return _ref = {}, _ref[contextName] = {\n        eventIndex: this[eventIndexKey],\n        subscribe: this[subscribeKey]\n      }, _ref;\n    },\n    componentWillMount: function componentWillMount() {\n      this[listenersKey] = [];\n      this[eventIndexKey] = 0;\n    },\n    componentWillReceiveProps: function componentWillReceiveProps() {\n      this[eventIndexKey]++;\n    },\n    componentDidUpdate: function componentDidUpdate() {\n      var _this = this;\n\n      this[listenersKey].forEach(function (listener) {\n        return listener(_this[eventIndexKey]);\n      });\n    }\n  }, _ref2[subscribeKey] = function (listener) {\n    var _this2 = this; // No need to immediately call listener here.\n\n\n    this[listenersKey].push(listener);\n    return function () {\n      _this2[listenersKey] = _this2[listenersKey].filter(function (item) {\n        return item !== listener;\n      });\n    };\n  }, _ref2;\n}\n\nfunction ContextSubscriber(name) {\n  var _contextTypes, _ref4;\n\n  var contextName = makeContextName(name);\n  var lastRenderedEventIndexKey = contextName + '/lastRenderedEventIndex';\n  var handleContextUpdateKey = contextName + '/handleContextUpdate';\n  var unsubscribeKey = contextName + '/unsubscribe';\n  return _ref4 = {\n    contextTypes: (_contextTypes = {}, _contextTypes[contextName] = contextProviderShape, _contextTypes),\n    getInitialState: function getInitialState() {\n      var _ref3;\n\n      if (!this.context[contextName]) {\n        return {};\n      }\n\n      return _ref3 = {}, _ref3[lastRenderedEventIndexKey] = this.context[contextName].eventIndex, _ref3;\n    },\n    componentDidMount: function componentDidMount() {\n      if (!this.context[contextName]) {\n        return;\n      }\n\n      this[unsubscribeKey] = this.context[contextName].subscribe(this[handleContextUpdateKey]);\n    },\n    componentWillReceiveProps: function componentWillReceiveProps() {\n      var _setState;\n\n      if (!this.context[contextName]) {\n        return;\n      }\n\n      this.setState((_setState = {}, _setState[lastRenderedEventIndexKey] = this.context[contextName].eventIndex, _setState));\n    },\n    componentWillUnmount: function componentWillUnmount() {\n      if (!this[unsubscribeKey]) {\n        return;\n      }\n\n      this[unsubscribeKey]();\n      this[unsubscribeKey] = null;\n    }\n  }, _ref4[handleContextUpdateKey] = function (eventIndex) {\n    if (eventIndex !== this.state[lastRenderedEventIndexKey]) {\n      var _setState2;\n\n      this.setState((_setState2 = {}, _setState2[lastRenderedEventIndexKey] = eventIndex, _setState2));\n    }\n  }, _ref4;\n}","map":{"version":3,"sources":["/home/joaohgs/Documents/ProjetosReact/cdc-admin/node_modules/react-router/lib/ContextUtils.js"],"names":["exports","__esModule","ContextProvider","ContextSubscriber","_react","require","contextProviderShape","PropTypes","shape","subscribe","func","isRequired","eventIndex","number","makeContextName","name","_childContextTypes","_ref2","contextName","listenersKey","eventIndexKey","subscribeKey","childContextTypes","getChildContext","_ref","componentWillMount","componentWillReceiveProps","componentDidUpdate","_this","forEach","listener","_this2","push","filter","item","_contextTypes","_ref4","lastRenderedEventIndexKey","handleContextUpdateKey","unsubscribeKey","contextTypes","getInitialState","_ref3","context","componentDidMount","_setState","setState","componentWillUnmount","state","_setState2"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\nexports.ContextProvider = ContextProvider;\nexports.ContextSubscriber = ContextSubscriber;\n\nvar _react = require('react');\n\n// Works around issues with context updates failing to propagate.\n// Caveat: the context value is expected to never change its identity.\n// https://github.com/facebook/react/issues/2517\n// https://github.com/reactjs/react-router/issues/470\n\nvar contextProviderShape = _react.PropTypes.shape({\n  subscribe: _react.PropTypes.func.isRequired,\n  eventIndex: _react.PropTypes.number.isRequired\n});\n\nfunction makeContextName(name) {\n  return '@@contextSubscriber/' + name;\n}\n\nfunction ContextProvider(name) {\n  var _childContextTypes, _ref2;\n\n  var contextName = makeContextName(name);\n  var listenersKey = contextName + '/listeners';\n  var eventIndexKey = contextName + '/eventIndex';\n  var subscribeKey = contextName + '/subscribe';\n\n  return _ref2 = {\n    childContextTypes: (_childContextTypes = {}, _childContextTypes[contextName] = contextProviderShape.isRequired, _childContextTypes),\n\n    getChildContext: function getChildContext() {\n      var _ref;\n\n      return _ref = {}, _ref[contextName] = {\n        eventIndex: this[eventIndexKey],\n        subscribe: this[subscribeKey]\n      }, _ref;\n    },\n    componentWillMount: function componentWillMount() {\n      this[listenersKey] = [];\n      this[eventIndexKey] = 0;\n    },\n    componentWillReceiveProps: function componentWillReceiveProps() {\n      this[eventIndexKey]++;\n    },\n    componentDidUpdate: function componentDidUpdate() {\n      var _this = this;\n\n      this[listenersKey].forEach(function (listener) {\n        return listener(_this[eventIndexKey]);\n      });\n    }\n  }, _ref2[subscribeKey] = function (listener) {\n    var _this2 = this;\n\n    // No need to immediately call listener here.\n    this[listenersKey].push(listener);\n\n    return function () {\n      _this2[listenersKey] = _this2[listenersKey].filter(function (item) {\n        return item !== listener;\n      });\n    };\n  }, _ref2;\n}\n\nfunction ContextSubscriber(name) {\n  var _contextTypes, _ref4;\n\n  var contextName = makeContextName(name);\n  var lastRenderedEventIndexKey = contextName + '/lastRenderedEventIndex';\n  var handleContextUpdateKey = contextName + '/handleContextUpdate';\n  var unsubscribeKey = contextName + '/unsubscribe';\n\n  return _ref4 = {\n    contextTypes: (_contextTypes = {}, _contextTypes[contextName] = contextProviderShape, _contextTypes),\n\n    getInitialState: function getInitialState() {\n      var _ref3;\n\n      if (!this.context[contextName]) {\n        return {};\n      }\n\n      return _ref3 = {}, _ref3[lastRenderedEventIndexKey] = this.context[contextName].eventIndex, _ref3;\n    },\n    componentDidMount: function componentDidMount() {\n      if (!this.context[contextName]) {\n        return;\n      }\n\n      this[unsubscribeKey] = this.context[contextName].subscribe(this[handleContextUpdateKey]);\n    },\n    componentWillReceiveProps: function componentWillReceiveProps() {\n      var _setState;\n\n      if (!this.context[contextName]) {\n        return;\n      }\n\n      this.setState((_setState = {}, _setState[lastRenderedEventIndexKey] = this.context[contextName].eventIndex, _setState));\n    },\n    componentWillUnmount: function componentWillUnmount() {\n      if (!this[unsubscribeKey]) {\n        return;\n      }\n\n      this[unsubscribeKey]();\n      this[unsubscribeKey] = null;\n    }\n  }, _ref4[handleContextUpdateKey] = function (eventIndex) {\n    if (eventIndex !== this.state[lastRenderedEventIndexKey]) {\n      var _setState2;\n\n      this.setState((_setState2 = {}, _setState2[lastRenderedEventIndexKey] = eventIndex, _setState2));\n    }\n  }, _ref4;\n}"]},"metadata":{},"sourceType":"script"}